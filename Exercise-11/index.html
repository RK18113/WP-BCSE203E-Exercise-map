<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>23BCE1489</title>
    <style>
      body {
        font-family: serif;
      }
      .form-container {
        border: 1px solid black;
        padding: 10px;
        width: 650px;
      }
      .header {
        display: flex;
        justify-content: space-between;
        align-items: center;
      }
      .time-box {
        border: 1px solid black;
        padding: 3px 5px;
      }
      .form-row {
        display: flex;
        margin: 8px 0;
        align-items: center;
      }
      .label {
        width: 200px;
      }
      .input-field {
        width: 200px;
      }
      .error {
        color: red;
        margin-left: 10px;
      }
      .required {
        color: red;
      }
      .pan-container {
        display: flex;
        align-items: center;
        margin-left: 20px;
      }
      .buttons {
        text-align: center;
        margin-top: 10px;
      }
      input[type="text"],
      input[type="password"],
      input[type="email"],
      input[type="tel"] {
        width: 200px;
      }
      select {
        width: 212px;
      }
    </style>
    <script defer>
      function validateForm() {
        let name = document.querySelector('input[name="name"]').value.trim();
        let address = document
          .querySelector('input[name="address"]')
          .value.trim();
        let zip = document.querySelector('input[name="zipcode"]').value.trim();
        let phone = document.querySelector('input[name="phone"]').value.trim();
        let email = document.querySelector('input[name="email"]').value.trim();
        let password = document
          .querySelector('input[name="password"]')
          .value.trim();
        let confirmPassword = document
          .querySelector('input[name="verifypassword"]')
          .value.trim();
        let pan = document.querySelector('input[name="panno"]').value.trim();
        let gender = document.querySelector('input[name="gender"]:checked');
        let country = document.querySelector('select[name="country"]').value;

        if (name === "" || name.length > 15) {
          alert("Name is required and should not exceed 15 characters!");
          return false;
        }

        if (address === "") {
          alert("Address is required!");
          return false;
        }

        if (!/^\d{6}$/.test(zip)) {
          alert("Zip Code must be a 6-digit number!");
          return false;
        }

        if (country === "Please select") {
          alert("Please select a country!");
          return false;
        }

        if (!gender) {
          alert("Please select a gender!");
          return false;
        }

        if (!/^\d{10}$/.test(phone)) {
          alert("Phone number must be exactly 10 digits!");
          return false;
        }

        let emailPattern = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
        if (!emailPattern.test(email)) {
          alert("Enter a valid email address!");
          return false;
        }

        let passwordPattern =
          /^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,15}$/;
        if (!passwordPattern.test(password)) {
          alert(
            "Password must be 8-15 characters long and include at least one letter, one number, and one special character!"
          );
          return false;
        }

        if (password !== confirmPassword) {
          alert("Passwords do not match!");
          return false;
        }

        let panPattern = /^[A-Z]{5}[0-9]{4}[A-Z]{1}$/;
        if (!panPattern.test(pan)) {
          alert("PAN must be 10 characters (Format: ABCDE1234F)");
          return false;
        }

        let preferences = document.querySelectorAll(
          'input[name="preferences"]:checked'
        );
        if (preferences.length === 0) {
          alert("Please select at least one preference!");
          return false;
        }

        alert("Form submitted successfully!");
        return true;
      }

      document.addEventListener("DOMContentLoaded", function () {
        let sendButton = document.querySelector('input[value="SEND"]');
        if (sendButton) {
          sendButton.addEventListener("click", validateForm);
        }

        let clearButton = document.querySelector('input[value="CLEAR"]');
        if (clearButton) {
          clearButton.addEventListener("click", function () {
            document.querySelector(".form-container").reset();
          });
        }

        function updateTime() {
          let timeBox = document.getElementById("current-time");
          if (timeBox) {
            let now = new Date();
            timeBox.textContent = `Time: ${now.toLocaleTimeString()}`;
          }
        }

        updateTime();
        setInterval(updateTime, 1000);
      });
    </script>
  </head>
  <body>
    <div class="form-container">
      <div class="header">
        <h2>Test JavaScript Form Validataion</h2>
        <div class="time-box" id="current-time">Time: 11:30:55</div>
      </div>

      <div class="form-row">
        <div class="label">Name<span class="required">*</span></div>
        <div><input type="text" name="name" class="input-field" /></div>
        <div class="error">Please enter your name!</div>
      </div>

      <div class="form-row">
        <div class="label">Address</div>
        <div><input type="text" name="address" class="input-field" /></div>
      </div>

      <div class="form-row">
        <div class="label">Zip Code<span class="required">*</span></div>
        <div><input type="text" name="zipcode" class="input-field" /></div>
      </div>

      <div class="form-row">
        <div class="label">Country<span class="required">*</span></div>
        <div>
          <select name="country" class="input-field">
            <option selected>India</option>
            <option selected>USA</option>
            <option selected>Asgard</option>
          </select>
        </div>
      </div>

      <div class="form-row">
        <div class="label">Gender<span class="required">*</span></div>
        <div>
          <input type="radio" name="gender" value="male" id="male" />
          <label for="male">Male</label>
          <input type="radio" name="gender" value="female" id="female" />
          <label for="female">Female</label>
        </div>
        <div class="pan-container">
          <div>Pan No:</div>
          <div style="margin-left: 5px"><input type="text" name="panno" /></div>
        </div>
      </div>

      <div class="form-row">
        <div class="label">Preferences<span class="required">*</span></div>
        <div>
          <input type="checkbox" name="preferences" value="red" id="red" />
          <label for="red">Red</label>
          <input type="checkbox" name="preferences" value="green" id="green" />
          <label for="green">Green</label>
          <input type="checkbox" name="preferences" value="blue" id="blue" />
          <label for="blue">Blue</label>
        </div>
      </div>

      <div class="form-row">
        <div class="label">Phone<span class="required">*</span></div>
        <div><input type="tel" name="phone" class="input-field" /></div>
      </div>

      <div class="form-row">
        <div class="label">Email<span class="required">*</span></div>
        <div><input type="email" name="email" class="input-field" /></div>
      </div>

      <div class="form-row">
        <div class="label">
          password (6-8 characters)<span class="required">*</span>
        </div>
        <div><input type="password" name="password" class="input-field" /></div>
      </div>

      <div class="form-row">
        <div class="label">Verify password<span class="required">*</span></div>
        <div>
          <input type="password" name="verifypassword" class="input-field" />
        </div>
      </div>

      <div class="buttons">
        <input type="button" value="SEND" />
        <input type="button" value="CLEAR" />
      </div>
    </div>
  </body>
</html>
